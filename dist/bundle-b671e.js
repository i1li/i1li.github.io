// Hello and God bless! Christ is King! https://github.com/i1li/i
const welcomeOverlay=document.getElementById("welcome-overlay"),welcomeDuration=5e3,frameDuration=100,totalFrames=Math.ceil(welcomeDuration/frameDuration);let currentFrame=0;function easeInExpo(e){return e===0?0:Math.pow(2,10*e-10)}const intervalId=setInterval(()=>{currentFrame++;const e=Math.min(currentFrame/totalFrames,1),t=1-easeInExpo(e);welcomeOverlay.style.opacity=t.toFixed(3),e>=1&&(clearInterval(intervalId),welcomeOverlay.style.display="none",welcomeOverlay.style.pointerEvents="none",isInitialLoad=!1)},frameDuration);const canvas=document.getElementById("canvas"),ctx=canvas.getContext("2d"),bufferCanvas=document.createElement("canvas"),bufferCtx=bufferCanvas.getContext("2d");let width,height;const shapes=[],SHAPE_COUNT=12,BASE_SIZE=.0075,BASE_SIZE_MULTIPLIER=16,BLUR_AMOUNT=3,SHADOW_SCALES=[1.3,1.9,3,4.1],FRAME_RATE=5,FRAME_INTERVAL=800/FRAME_RATE;class SimplexNoise{constructor(e=Math.random()){this.grad3=[[1,1,0],[-1,1,0],[1,-1,0],[-1,-1,0],[1,0,1],[-1,0,1],[1,0,-1],[-1,0,-1],[0,1,1],[0,-1,1],[0,1,-1],[0,-1,-1]],this.p=[];for(let t=0;t<256;t++)this.p[t]=Math.floor(e*256),e=(e*9301+49297)%233280/233280;this.perm=[];for(let t=0;t<512;t++)this.perm[t]=this.p[t&255]}dot(e,t,i){return e[0]*t+e[1]*i}noise(e,t){const i=.5*(Math.sqrt(3)-1),c=(3-Math.sqrt(3))/6;let n,s,r,u=(e+t)*i,f=Math.floor(e+u),d=Math.floor(t+u),l=(f+d)*c,h=f-l,w=d-l,a=e-h,m=t-w,v,M;a>m?(v=1,M=0):(v=0,M=1);let C=a-v+c,X=m-M+c,Y=a-1+2*c,E=m-1+2*c,A=f&255,N=d&255,I=this.perm[A+this.perm[N]]%12,O=this.perm[A+v+this.perm[N+M]]%12,_=this.perm[A+1+this.perm[N+1]]%12,g=.5-a*a-m*m;g<0?n=0:(g*=g,n=g*g*this.dot(this.grad3[I],a,m));let y=.5-C*C-X*X;y<0?s=0:(y*=y,s=y*y*this.dot(this.grad3[O],C,X));let S=.5-Y*Y-E*E;return S<0?r=0:(S*=S,r=S*S*this.dot(this.grad3[_],Y,E)),70*(n+s+r)}}const noise=new SimplexNoise(Math.random());function resizeCanvas(){width=canvas.width=bufferCanvas.width=window.innerWidth,height=canvas.height=bufferCanvas.height=window.innerHeight}function random(o,e){return Math.random()*(e-o)+o}function easeInOut(o){return o<.5?2*o*o:-1+(4-2*o)*o}function createAndChangeShapes(o){const e=Date.now()*5e-6;shapes.forEach(t=>{let i=.0015,c=.007,n=noise.noise(t.x*i,e)*.15+noise.noise(t.x*c,e*3)*.05,s=noise.noise(t.y*i,e)*.15+noise.noise(t.y*c,e*3)*.05;t.vx+=(n-t.vx)*o*.7,t.vy+=(s-t.vy)*o*.7,t.x+=t.vx*o*40,t.y+=t.vy*o*40,t.rotation+=t.rotationSpeed*o*.6,t.x<0&&(t.x+=width),t.x>width&&(t.x-=width),t.y<0&&(t.y+=height),t.y>height&&(t.y-=height);const r=e*.3;t.slantX=easeInOut(noise.noise(t.slantNoiseOffsetX+t.x*.002,r)*.5+.5),t.slantY=easeInOut(noise.noise(t.slantNoiseOffsetY+t.y*.002,r)*.5+.5),t.skewX=easeInOut(noise.noise(t.skewNoiseOffsetX+t.x*.002,r)*.5+.5),t.skewY=easeInOut(noise.noise(t.skewNoiseOffsetY+t.y*.002,r)*.5+.5),t.hue=(t.hue+Math.sin(e*1.5+t.hueShift)*2)%360;const u=.15+.1*Math.sin(e+t.alphaShift),f=noise.noise(t.x*.005,t.y*.005+e)*.05;t.alpha=Math.min(Math.max(.07,u+f),.3),t.scale=.8+noise.noise(t.x*.005,t.y*.005+e*.5)*.7})}function drawShapes(o){shapes.forEach(e=>{o.save(),o.translate(e.x,e.y),o.transform(1+e.skewX*1.5,e.slantY*1.5,e.slantX*1.5,1+e.skewY*1.5,0,0),o.rotate(e.rotation),o.scale(e.scale,e.scale);function t(n){const s=Math.min(...e.vertices.filter((w,a)=>a%2===0)),r=Math.max(...e.vertices.filter((w,a)=>a%2===0)),u=Math.min(...e.vertices.filter((w,a)=>a%2===1)),f=Math.max(...e.vertices.filter((w,a)=>a%2===1)),d=o.createLinearGradient(n?r:s,n?f:u,n?s:r,n?u:f),l=`hsla(${e.hue}, 80%, 60%, 0.6)`,h=`hsla(${(e.hue+140)%360}, 90%, 40%, 0.8)`;return d.addColorStop(0,n?h:l),d.addColorStop(.15,n?h:l),d.addColorStop(.8,n?l:h),d.addColorStop(1,n?l:h),d}SHADOW_SCALES.forEach((n,s)=>{o.save(),o.scale(n,n),o.beginPath();const r=e.vertices,u=e.roundedCorners;o.moveTo(r[0],r[1]);for(let l=0;l<r.length;l+=2){const h=r[l],w=r[l+1],a=r[(l+2)%r.length],m=r[(l+3)%r.length];if(u[l/2]){const v=(h+a)/2,M=(w+m)/2;o.quadraticCurveTo(h,w,v,M)}else o.lineTo(a,m)}o.closePath();const f=.04+s*.02,d=(e.hue+s*40)%360;o.fillStyle=`hsla(${d}, 70%, 50%, ${f})`,o.fill(),o.restore()}),o.beginPath();const i=e.vertices,c=e.roundedCorners;o.moveTo(i[0],i[1]);for(let n=0;n<i.length;n+=2){const s=i[n],r=i[n+1],u=i[(n+2)%i.length],f=i[(n+3)%i.length];if(c[n/2]){const d=(s+u)/2,l=(r+f)/2;o.quadraticCurveTo(s,r,d,l)}else o.lineTo(u,f)}o.closePath(),o.fillStyle=t(SHADOW_SCALES.length%2===0),o.globalAlpha=e.alpha,o.shadowColor=`hsla(${e.hue}, 100%, 80%, 0.3)`,o.shadowBlur=9,o.fill(),o.restore()})}let lastTime=0,accumulator=0;function animate(o){const e=(o-lastTime)/1e3||.016;for(lastTime=o,accumulator+=e;accumulator>=FRAME_INTERVAL/1e3;)createAndChangeShapes(FRAME_INTERVAL/1e3),accumulator-=FRAME_INTERVAL/1e3;bufferCtx.clearRect(0,0,width,height),drawShapes(bufferCtx),ctx.filter=`blur(${BLUR_AMOUNT}px)`,ctx.clearRect(0,0,width,height),ctx.drawImage(bufferCanvas,0,0),ctx.filter="none",requestAnimationFrame(animate)}window.addEventListener("resize",resizeCanvas),resizeCanvas();for(let o=0;o<SHAPE_COUNT;o++){const e=Math.min(width,height)*random(BASE_SIZE,BASE_SIZE*BASE_SIZE_MULTIPLIER),t=Math.floor(random(33,44)),i=new Float32Array(t*2),c=new Array(t).fill(!1);for(let n=0;n<t;n++){const s=n/t*Math.PI*random(-99,99),r=e*random(.01,6);i[n*2]=Math.cos(s)*r,i[n*2+1]=Math.sin(s)*r,Math.random()<.85&&(c[n]=!0)}shapes.push({vertices:i,roundedCorners:c,hue:random(0,360),alpha:random(.05,.25),x:random(0,width),y:random(0,height),vx:random(-1,1),vy:random(-1,1),rotation:random(0,Math.PI*2),rotationSpeed:random(-.25,.25),hueShift:random(0,Math.PI*2),alphaShift:random(0,Math.PI*2),scale:1,slantX:0,slantY:0,skewX:0,skewY:0,slantNoiseOffsetX:random(0,1e3),slantNoiseOffsetY:random(0,1e3),skewNoiseOffsetX:random(0,1e3),skewNoiseOffsetY:random(0,1e3)})}animate(0);let isWindowActive=!document.hidden,lastUpdateTime=performance.now();const updateWindowStatus=throttle(()=>{const n=isWindowActive;isWindowActive=!document.hidden||document.hasFocus(),isWindowActive&&!n&&(lastUpdateTime=performance.now())},500);window.addEventListener("focus",updateWindowStatus),window.addEventListener("blur",updateWindowStatus),document.addEventListener("visibilitychange",updateWindowStatus);const isMobile=window.matchMedia("(orientation: portrait)").matches||window.innerHeight>window.innerWidth||/android|webos|iphone|ipad|ipod|blackberry|iemobile|opera mini|windows phone|kindle|playbook|silk|mobile|tablet|samsung|lg|htc|nokia|motorola|symbian|fennec|maemo|tizen|blazer|series60|ucbrowser|bada|micromessenger|webview/.test(navigator.userAgent.toLowerCase());function debounce(n,o){let t;return function(...e){clearTimeout(t),t=setTimeout(()=>{n.apply(this,e)},o)}}function throttle(n,o){let t,e;return function(){const a=this,i=arguments;e?(clearTimeout(t),t=setTimeout(function(){Date.now()-e>=o&&(n.apply(a,i),e=Date.now())},Math.max(0,o-(Date.now()-e)))):(n.apply(a,i),e=Date.now())}}function metaRecursiveEaseNoise(n,o=0,t=Math.ceil(Math.random()*300)+33){if(o>=t){const u=easingFunctions[Math.floor(Math.random()*easingFunctions.length)];return u(n)}const e=easingFunctions[Math.floor(Math.random()*easingFunctions.length)],a=noiseFunctions[Math.floor(Math.random()*noiseFunctions.length)],i=Math.random(),r=i/2,s=e(n),c=metaRecursiveNoise(n*i,o+1,t,a)*r;return Math.max(0,Math.min(1,s+c))}function metaRecursiveNoise(n,o=0,t=Math.ceil(Math.random()*300)+33,e){if(o>=t)return e(n);const a=Math.floor(n)&255;n-=Math.floor(n);const i=metaRecursiveEaseNoise(fade(n),o+1,t);return lerp(i,grad(p[a],n),grad(p[a+1],n-1))}const easingFunctions=[n=>n<.5?4*n*n*n:1-Math.pow(-2*n+2,3)/2,n=>n<.5?2*n*n:-1+(4-2*n)*n,n=>n<.5?(1-Math.sqrt(1-4*n*n))/2:(Math.sqrt(1-Math.pow(-2*n+2,2))+1)/2],noiseFunctions=[n=>perlinNoise(n),n=>Math.sin(n*10)*.5+.5,n=>Math.exp(-Math.pow(n-.5,2)/.05),n=>Math.pow(Math.sin(n*Math.PI),3)],permutation=[...Array(256)].map(()=>Math.floor(Math.random()*256)),p=[...permutation,...permutation];function fade(n){return n*n*n*(n*(n*6-15)+10)}function lerp(n,o,t){return o+n*(t-o)}function grad(n,o){const t=n&15,e=1+(t&7);return(t&8?-e:e)*o}function perlinNoise(n){const o=Math.floor(n)&255;n-=Math.floor(n);const t=fade(n);return lerp(t,grad(p[o],n),grad(p[o+1],n-1))}class YTEmbed extends HTMLElement{constructor(){super();const t=this.getAttribute("v"),[e,o]=t.split("?");this.id=e,this.params=o;const s=this.id.split(",");this.videoIds=s;let i,n;switch(this.throttledCheckViewport=this.checkViewport.bind(this),this.throttledCheckViewport=throttle(this.throttledCheckViewport,500),!0){default:this.classList.contains("no-link-embed")?(i=`https://www.youtube.com/watch?v=${this.id}${this.params?"&"+this.params+"&":"&"}autoplay=1`,n=`https://www.youtube-nocookie.com/embed/${this.id}${this.params?"?"+this.params+"&":"?"}autoplay=1`):this.classList.contains("no-embed")?i=`https://www.youtube.com/watch?v=${this.id}${this.params?"&"+this.params+"&":"&"}autoplay=1`:(i=`https://www.youtube-nocookie.com/embed/${this.id}${this.params?"?"+this.params+"&":"?"}autoplay=1`,n=i);break;case this.videoIds.length>1:this.classList.contains("no-link-embed")?(i=`https://www.youtube.com/watch_videos?video_ids=${this.videoIds.join(",")}&autoplay=1`,n=`https://www.youtube-nocookie.com/embed/?playlist=${this.videoIds.join(",")}&autoplay=1`):this.classList.contains("no-embed")?i=`https://www.youtube.com/watch_videos?video_ids=${this.videoIds.join(",")}&autoplay=1`:(i=`https://www.youtube-nocookie.com/embed/?playlist=${this.videoIds.join(",")}&autoplay=1`,n=i);break;case(this.id.length>11&&(this.id.startsWith("PL")||this.id.startsWith("TL")||this.id.startsWith("OL")||this.id.startsWith("FL")||this.id.startsWith("UU"))):this.classList.contains("no-link-embed")?(i=`https://www.youtube.com/playlist?list=${this.id}&autoplay=1`,n=`https://www.youtube-nocookie.com/embed/videoseries?list=${this.id}&autoplay=1`):this.classList.contains("no-embed")?i=`https://www.youtube.com/playlist?list=${this.id}&autoplay=1`:(i=`https://www.youtube-nocookie.com/embed/videoseries?list=${this.id}&autoplay=1`,n=i);break}this.linkUrl=i,this.embedUrl=n,this.link=document.createElement("a"),this.link.textContent=this.getAttribute("t")||"View Video",this.link.title="View video in new tab",this.link.href=this.linkUrl,this.button=document.createElement("button"),this.button.textContent="\u25B6\uFE0F Play",this.button.title="Play Video",this.button.className="showHideButton",this.classList.contains("no-embed")?(this.button.onclick=()=>window.open(this.linkUrl),this.appendChild(this.button),this.appendChild(this.link)):(this.button.onclick=()=>this.toggleVideo(),this.wrapper=document.createElement("div"),this.wrapper.className="yt-wrapper",this.appendChild(this.button),this.appendChild(this.link),this.appendChild(this.wrapper))}toggleVideo(){const t=this.wrapper.querySelector("iframe");if(t)this.wrapper.removeChild(t),this.wrapper.style.display="none",this.button.textContent="\u25B6\uFE0F Play",this.button.title="Play Video",this.removeAttribute("data-now-playing"),this.removeAttribute("data-video-path"),this.removeRemoteControl();else{this.closeOtherVideos();const e=document.createElement("iframe");e.src=this.embedUrl,e.allowFullscreen=!0,e.className="yt",this.wrapper.appendChild(e),this.wrapper.style.display="block",this.button.textContent="\u23F9\uFE0F Stop",this.button.title="Stop Video",this.setAttribute("data-now-playing","true");const o=this.closest("article"),s=this.closest("section");let i="/";o&&(i+=o.id,s&&(i+=`/${s.id}`)),this.setAttribute("data-video-path",i),this.createRemoteControl(),this.setupViewportCheck()}}closeOtherVideos(){document.querySelectorAll("y-t[data-now-playing]").forEach(e=>{if(e!==this){const o=e.querySelector("button.showHideButton");if(o&&o.textContent==="\u23F9\uFE0F Stop"){e.removeAttribute("data-now-playing"),e.removeAttribute("data-video-path");const s=e.querySelector(".yt-wrapper");if(s){const i=s.querySelector("iframe");i&&s.removeChild(i),s.style.display="none"}o.textContent="\u25B6\uFE0F Play",o.title="Play Video"}}})}createRemoteControl(){let t=document.getElementById("remote-control");if(!t){t=document.createElement("div"),t.id="remote-control",t.style.opacity="0",t.style.pointerEvents="none",document.body.appendChild(t);const s=document.createElement("div");s.id="now-playing-text",s.innerHTML="\u{1F50A}Now<br>Playing:",s.style.opacity="0",s.style.pointerEvents="none",document.body.appendChild(s);const i=document.createElement("div");i.id="expand-icon",i.setAttribute("aria-label","Expand Remote Control"),document.body.appendChild(i);const n=()=>{t.style.opacity="0.7",t.style.pointerEvents="auto",i.style.opacity="0",i.style.pointerEvents="none",s.style.opacity="0",s.style.pointerEvents="none"};i.onclick=n,i.onmouseenter=n,t.onmouseleave=()=>{this.isOutOfViewport()&&(t.style.opacity="0",t.style.pointerEvents="none",i.style.opacity="0.2",i.style.pointerEvents="auto",s.style.opacity="0.55",s.style.pointerEvents="auto")}}t.innerHTML="";const e=this.button.cloneNode(!0);e.style="",e.onclick=()=>this.toggleVideo();const o=document.createElement("a");o.textContent="Go to video",o.style.marginTop="10px",o.onclick=s=>{s.preventDefault(),this.navigateToNowPlaying()},this.updateNowPlayingLink(o),t.appendChild(e),t.appendChild(o),this.checkViewport()}checkViewport(){const t=document.getElementById("remote-control"),e=document.getElementById("expand-icon"),o=document.getElementById("now-playing-text");this.isOutOfViewport()?(t&&(t.style.opacity="0",t.style.pointerEvents="none"),e&&(e.style.opacity="0.2",e.style.pointerEvents="auto"),o&&(o.style.opacity="0.55",o.style.pointerEvents="auto")):(t&&(t.style.opacity="0",t.style.pointerEvents="none"),e&&(e.style.opacity="0",e.style.pointerEvents="none"),o&&(o.style.opacity="0",o.style.pointerEvents="none"))}setupViewportCheck(){["scroll","touchmove","resize"].forEach(t=>window.addEventListener(t,this.throttledCheckViewport)),this.checkViewport()}isOutOfViewport(){const t=this.getBoundingClientRect();return t.bottom<=0||t.right<=0||t.left>=window.innerWidth||t.top>=window.innerHeight}updateNowPlayingLink(t){const e=this.getAttribute("data-video-path");e&&(t.href=`${e}#now-playing`)}navigateToNowPlaying(){const t=document.querySelector("y-t[data-now-playing]");if(t){const e=t.getAttribute("data-video-path");e&&(navigate(e.substring(1)),setTimeout(()=>{const o=t.getBoundingClientRect().top+window.pageYOffset-window.innerHeight*.1;window.scrollTo({top:o,behavior:"smooth"})},20))}}removeEventListeners(){["scroll","touchmove","resize"].forEach(t=>window.removeEventListener(t,this.throttledCheckViewport))}removeRemoteControl(){const t=document.getElementById("remote-control");t&&document.body.removeChild(t);const e=document.getElementById("expand-icon");e&&document.body.removeChild(e);const o=document.getElementById("now-playing-text");o&&document.body.removeChild(o),this.removeEventListeners()}}customElements.define("y-t",YTEmbed);function applyDarkMode(e){document.body.classList.toggle("dark-mode",e),document.querySelectorAll("*").forEach(t=>{t.classList.toggle("dark-mode",e)})}function toggleDarkMode(){darkMode=!darkMode,applyDarkMode(darkMode),localStorage.setItem("darkMode",darkMode)}let darkMode;const savedMode=localStorage.getItem("darkMode");savedMode!==null?darkMode=savedMode==="true":window.matchMedia("(prefers-color-scheme: dark)").matches?darkMode=!0:window.matchMedia("(prefers-color-scheme: light)").matches?darkMode=!1:darkMode=!0,applyDarkMode(darkMode);const modeToggle=document.getElementById("dark-light");modeToggle.addEventListener("click",toggleDarkMode);function shuffle(e,t=1/0){if(e.length===1)return e;if(e.length<Math.min(t*2,e.length)){const n=[],l=new Set;for(;l.size<Math.min(t,e.length);){const o=Math.floor(Math.random()*e.length);l.add(o)}for(const o of l)n.push(e[o]);return n}else{for(let n=e.length-1;n>0;n--){const l=Math.floor(Math.random()*(n+1));[e[n],e[l]]=[e[l],e[n]]}return e.slice(0,Math.min(t,e.length))}}const shuffleDiv=document.getElementById("shuffle"),elements=[...shuffleDiv.querySelectorAll("y-t")];let combinedElements=[],elementIdsMap=new Map;function processAndCombine(e,t){if(processedElements.has(t))return;const n=e.getAttribute("v");let l;elementIdsMap.has(t)?l=elementIdsMap.get(t):(l=n.split(","),elementIdsMap.set(t,l)),shuffle(l,3).forEach(s=>combinedElements.push(s.split("?")[0]));const c=shuffle(l,150);if(e.setAttribute("v",c.join(",")),processedElements.add(t),t<elements.length-1)processAndCombine(elements[t+1],t+1);else{const d=document.getElementById("combined-list").querySelector("y-t"),i=[...new Set(combinedElements)],m=shuffle(i,150);d.setAttribute("v",m.join(","))}}let processedElements=new Set;processAndCombine(elements[0],0);function shuffleAndDraw(){shuffle(elements);let e=0,t=document.getElementById("draw");const n=elements[e].cloneNode(!1);processAndCombine(n,e),t.appendChild(n),document.querySelector("#next").addEventListener("click",function(){e=(e+1)%elements.length,t.innerHTML="";const o=elements[e].cloneNode(!1);processAndCombine(o,e),t.appendChild(o)})}shuffleAndDraw();function constructVerseURL(o){const[n,t]=o.split(" "),[i,r]=t.split(":");return`https://www.blb.org/csb/${n.toLowerCase().substring(0,3)}/${i}/${r}`}function displayRandomBibleVerse(){shuffle(bibleVerses);let o=0,n=0,t=null;const i=500;function r(){const e=bibleVerses[o];document.querySelectorAll(".bible-verse-text").forEach(a=>{a.textContent=e[1]}),document.querySelectorAll(".bible-verse-link").forEach(a=>{a.textContent=e[0],a.href=constructVerseURL(e[0])});const h=e[1].split(" ").length;n=Math.max(h*650,3300),o=(o+1)%bibleVerses.length,s()}function s(){t&&clearTimeout(t);function e(){isWindowActive&&!document.querySelector("header").classList.contains("scrolled-down")?(n-=i,n<=0?r():t=setTimeout(e,i)):t=setTimeout(e,i)}e()}r()}const headerVerse=document.getElementById("header-verse");document.addEventListener("DOMContentLoaded",function(){isInitialLoad&&displayRandomBibleVerse()});const bibleVerses=[["Philippians 4:7","And the peace of God, which surpasses all understanding, will guard your hearts and minds in Christ Jesus."],["Exodus 3:14","God replied to Moses, 'I AM WHO I AM. This is what you are to say to the Israelites: I AM has sent me to you.'"],["John 6:35","I am the bread of life. Whoever comes to me will never go hungry, and whoever believes in me will never be thirsty."],["John 8:12","I am the light of the world. Whoever follows me will never walk in darkness, but will have the light of life."],["John 10:9","I am the gate; whoever enters through me will be saved."],["John 11:25-26","I am the resurrection and the life. The one who believes in me will live, even though they die; and whoever lives by believing in me will never die."],["John 14:6","I am the way and the truth and the life. No one comes to the Father except through me."],["John 15:1","I am the true vine, and my Father is the gardener."],["John 8:58","Truly, truly, I say to you, before Abraham was, I am."],["Revelation 1:8","I am the Alpha and the Omega, says the Lord God, who is, and who was, and who is to come, the Almighty."],["Proverbs 3:5-6","Trust in the Lord with all your heart, and do not rely on your own understanding; in all your ways know him, and he will make your paths straight."],["2 Corinthians 5:17","Therefore, if anyone is in Christ, he is a new creation; the old has passed away, and see, the new has come!"],["Matthew 6:24","No one can serve two masters, since either he will hate one and love the other, or he will be devoted to one and despise the other. You cannot serve both God and money."],["2 Timothy 1:7","For God has not given us a spirit of fear, but of power and of love and of a sound mind."],["Romans 12:2","Do not be conformed to this age, but be transformed by the renewing of your mind, so that you may discern what is the good, pleasing, and perfect will of God."],["Proverbs 9:8-9","Do not rebuke mockers or they will hate you; rebuke the wise and they will love you. Instruct the wise and they will be wiser still; teach the righteous and they will add to their learning."],["Galatians 2:20","I have been crucified with Christ, and I no longer live, but Christ lives in me. The life I now live in the body, I live by faith in the Son of God, who loved me and gave himself for me."]];const shiftLayer1=document.getElementById("shift-layer1"),shiftLayer2=document.getElementById("shift-layer2"),bg=document.getElementById("bg");let shiftLayer1State=createLayerState(shiftLayer1),shiftLayer2State=createLayerState(shiftLayer2),bgState=createBgLayerState(bg);function getShiftLayerInfo(r){const a=document.querySelectorAll('[id^="shift-layer"]').length,n=r.id.match(/shift-layer(\d+)/);return{currentLayer:n?parseInt(n[1]):null,totalLayers:a}}function randomlyModifyValue(r,t=.85,a=1.15){if(Math.random()<.333){const n=Math.random()*(a-t)+t;return Math.round(r*n)}return Math.round(r)}function getRandomInRange(r,t,a=1,n){if(!n.id.startsWith("shift-layer"))return(Math.random()*(t-r)+r)*a;const{currentLayer:i,totalLayers:e}=getShiftLayerInfo(n);for(let u=1;u<=e;u++)if(i===u)return randomlyModifyValue(Math.random()*(t-r)+r)*a}function getRandomTransitionDuration(r){const t=getRandomInRange(7e3,21e3,1,r);return Math.round(t)}function getRandomHueShift(r){const t=getRandomInRange(-180,180,1,r);return Math.round(t*10)/10}function getRandomFilterValue(r){const t=getRandomInRange(87,185,1,r);return Math.round(t*10)/10}function getRandomOpacityValue(r){const t=getRandomInRange(65,95,1,r);return Math.round(t*10)/10}function getRandomOpacityValue2(r){const t=getRandomInRange(.29,.37,1,r);return Math.round(t*1e3)/1e3}function getRandomGradientSteps(r){const{currentLayer:t}=getShiftLayerInfo(r);return t===1?7*Math.ceil(Math.random()*7):randomlyModifyValue(Math.ceil(Math.random()*12)+2)}function createLayerState(r){const{currentLayer:t}=getShiftLayerInfo(r);return{transitionCurrentTime:0,transitionProgress:0,transitionDuration:t===1?8e3:5e3,currentGradientSteps:getRandomGradientSteps(r),currentContrast:100,currentBrightness:100,currentSaturation:100,currentOpacity:.75,currentHueShift:0,targetGradientSteps:getRandomGradientSteps(r),targetContrast:getRandomFilterValue(r),targetBrightness:getRandomFilterValue(r),targetSaturation:getRandomFilterValue(r),targetOpacity:getRandomOpacityValue(r),targetHueShift:getRandomHueShift(r)}}function createBgLayerState(r){let t;return r.id==="bg"?t=.33:t=1,{transitionCurrentTime:0,transitionProgress:0,transitionDuration:getRandomTransitionDuration(r),currentOpacity:t,targetOpacity:getRandomOpacityValue2(r)}}function setGradient(r,t){const{currentLayer:a}=getShiftLayerInfo(r);function n(o,c){return o*c}const i=r.offsetWidth||r.clientWidth,e=r.offsetHeight||r.clientHeight,g=Math.sqrt(i*i+e*e)/(Math.max(i,e)*Math.sqrt(2))*100;let s=[];const d=t.currentGradientSteps,h=360/d;for(let o=0;o<d;o++){const c=o*h,f=50+50*Math.cos(c*Math.PI/180),y=50+50*Math.sin(c*Math.PI/180),M=o+t.currentGradientSteps;s.push(`radial-gradient(ellipse farthest-corner at ${Math.round(f*10)/10}% ${Math.round(y*10)/10}%, hsl(${n(M,h)}, 100%, 50%), transparent ${Math.round(g*10)/10}%)`)}r.style.backgroundImage=s.join(", "),r.style.filter=`opacity(${t.currentOpacity}%) contrast(${t.currentContrast}%) brightness(${t.currentBrightness}%) saturate(${t.currentSaturation}%) hue-rotate(${t.currentHueShift}deg)`}function updateLayerState(r,t,a){r.transitionCurrentTime+=a,r.transitionProgress+=a/r.transitionDuration,r.transitionProgress>1&&(r.transitionProgress=1);const n=()=>metaRecursiveEaseNoise(r.transitionProgress),{currentLayer:i}=getShiftLayerInfo(t);i===1?(r.currentGradientSteps+=Math.round((r.targetGradientSteps-r.currentGradientSteps)*(n()*5e-5)*Math.random()*10)/10,r.currentHueShift+=Math.round((r.targetHueShift-r.currentHueShift)*(n()*.05)*Math.random()*10)/10):(r.currentGradientSteps+=Math.round((r.targetGradientSteps-r.currentGradientSteps)*(n()*.05)*Math.random()*10)/10,r.currentHueShift+=Math.round((r.targetHueShift-r.currentHueShift)*(n()*.01)*Math.random()*10)/10),r.currentContrast+=Math.round((r.targetContrast-r.currentContrast)*(n()*Math.random())*10)/10,r.currentBrightness+=Math.round((r.targetBrightness-r.currentBrightness)*(n()*Math.random())*10)/10,r.currentSaturation+=Math.round((r.targetSaturation-r.currentSaturation)*(n()*Math.random())*10)/10,r.currentOpacity+=Math.round((r.targetOpacity-r.currentOpacity)*(n()*Math.random())*10)/10,r.transitionCurrentTime>=r.transitionDuration&&(r.transitionCurrentTime=0,r.transitionProgress=0,r.transitionDuration=getRandomTransitionDuration(t),r.targetHueShift=getRandomHueShift(t),r.targetGradientSteps=getRandomGradientSteps(t),r.targetContrast=getRandomFilterValue(t),r.targetBrightness=getRandomFilterValue(t),r.targetSaturation=getRandomFilterValue(t),r.targetOpacity=getRandomOpacityValue(t))}function updateBgLayerState(r,t,a){r.transitionCurrentTime+=a,r.transitionProgress+=a/r.transitionDuration*Math.random(),r.transitionProgress>1&&(r.transitionProgress=1);const n=()=>metaRecursiveEaseNoise(r.transitionProgress);r.currentOpacity+=Math.round((r.targetOpacity-r.currentOpacity)*n()*(Math.random()*1)*1e3)/1e3,r.transitionCurrentTime>=r.transitionDuration&&(r.transitionCurrentTime=0,r.transitionProgress=0,r.transitionDuration=getRandomTransitionDuration(t),r.targetOpacity=t.id==="bg"?getRandomOpacityValue2(t):getRandomOpacityValue(t))}function updateColors(r){if(!isWindowActive){requestAnimationFrame(updateColors);return}const t=r-lastUpdateTime;lastUpdateTime=r,updateLayerState(shiftLayer1State,shiftLayer1,t),updateLayerState(shiftLayer2State,shiftLayer2,t),setGradient(shiftLayer1,shiftLayer1State),setGradient(shiftLayer2,shiftLayer2State),updateBgLayerState(bgState,bg,t),bg.style.opacity=bgState.currentOpacity,requestAnimationFrame(updateColors)}requestAnimationFrame(updateColors);if(window.SPA404Redirect){const e=window.SPA404Redirect.search.slice(1).split("&").map(d=>d.replace(/~and~/g,"&")).join("?"),i=window.SPA404Redirect.origin+window.SPA404Redirect.pathname.slice(0,-1)+e+window.SPA404Redirect.hash;window.history.replaceState(null,null,i),delete window.SPA404Redirect}function pageZoom(o){const n=o?1.05:.95;document.querySelectorAll("html").forEach(function(t){let e=parseFloat(window.getComputedStyle(t).fontSize);e=e*n,t.style.fontSize=e+"px"});const c=parseFloat(window.getComputedStyle(document.documentElement).fontSize);localStorage.setItem("baseFontSize",c)}const savedFontSize=localStorage.getItem("baseFontSize");savedFontSize&&(document.documentElement.style.fontSize=savedFontSize+"px"),document.getElementById("zoom-in").addEventListener("click",function(){pageZoom(!0)}),document.getElementById("zoom-out").addEventListener("click",function(){pageZoom(!1)});const toTop=document.getElementById("toTop"),header=document.querySelector("header"),headerHeight=3*parseFloat(getComputedStyle(document.documentElement).fontSize);function goToTop(){header.classList.remove("scrolled-down"),window.scrollTo(0,0)}function handleScroll(){window.scrollY>headerHeight*.6?header.classList.add("scrolled-down"):header.classList.remove("scrolled-down"),document.body.scrollTop>window.innerHeight||document.documentElement.scrollTop>window.innerHeight?(toTop.style.opacity="0.4",toTop.style.pointerEvents="auto"):(toTop.style.opacity="0",toTop.style.pointerEvents="none")}function updateURLOnScroll(){const t=document.querySelectorAll("article");let o,n;if(t.forEach(e=>{const c=e.getBoundingClientRect();if(c.top<=window.innerHeight/2&&c.bottom>=window.innerHeight/2){o=e;const i=e.querySelectorAll(".section-title");for(let l=i.length-1;l>=0;l--){const s=i[l];if(s.getBoundingClientRect().top<=window.innerHeight/2){n=s;break}}}}),o){let e=o.id;n&&(e+=`/${n.id}`),e!==lastUpdatedPath&&(history.replaceState(null,"",`/${e}`),lastUpdatedPath=e)}}["scroll","touchmove","resize"].forEach(t=>window.addEventListener(t,throttle(()=>{updateURLOnScroll(),handleScroll()},500)));let isInitialLoad=!0,lastUpdatedPath="",path=window.location.pathname.substring(1),hash=window.location.hash.substring(1);const articles=document.querySelectorAll("article"),welcome=document.getElementById("welcome"),observer=new IntersectionObserver(function(t,o){t.forEach(function(e){e.isIntersecting&&(e.target.querySelector(".article-content").style.display="block",o.unobserve(e.target))})});if(articles.forEach(function(t){observer.observe(t),t.querySelector(".article-content").style.display="none"}),path){const[t,o]=path.split("/");t&&document.getElementById(t)?showSingleArticle(t,o):showAllArticles()}else hash?handleHashNavigation(hash):showAllArticles();window.onpopstate=function(t){t.state&&t.state.articleId?showSingleArticle(t.state.articleId,t.state.sectionId):showAllArticles()};function showSingleArticle(t,o){articles.forEach(function(e){if(e.id===t){welcome.style.display="none",e.style.display="block";const i=e.querySelector(".article-content");i&&(i.style.display="block");const s=e.querySelector(".article-nav");if(s){let l=e.querySelector(".article-nav-bottom");l||(l=s.cloneNode(!0),l.classList.add("article-nav-bottom"),e.appendChild(l))}if(o){const l=e.querySelector(`.section-title#${o}`);l&&navigateToElement(l)}else navigateToElement(e);let n=`/${t}`;o&&(n+=`/${o}`),history.replaceState({articleId:t,sectionId:o},"",n)}else e.style.display="none"})}function showAllArticles(){articles.forEach(function(t,o){t.style.display="block",o!==0&&(t.querySelector(".article-content").style.display="none"),observer.observe(t);const e=t.querySelector(".article-nav-bottom");e&&e.remove()}),welcome.style.display="block",goToTop()}function navigateToElement(t){header.classList.add("scrolled-down");let o=t.closest("article");if(isInitialLoad)setTimeout(()=>{o.scrollIntoView({behavior:"instant"});let e=t.getBoundingClientRect().top+window.scrollY-headerHeight;window.scrollTo({top:e,behavior:"instant"})},500);else{o.scrollIntoView({behavior:"smooth"});let e=t.getBoundingClientRect().top+window.scrollY-headerHeight;window.scrollTo({top:e,behavior:"smooth"})}}function navigate(t){if(t.startsWith("#"))handleHashNavigation(t.substring(1));else{const[o,e]=t.split("/");o?showSingleArticle(o,e):(showAllArticles(),history.replaceState({},"",window.location.origin))}}function handleHashNavigation(t){if(t==="now-playing"||!document.getElementById(t))showAllArticles(),history.replaceState(null,"",window.location.pathname);else{const[o,e]=t.split("/");showSingleArticle(o,e)}}function handleLinks(t){const o=t.target.closest("a");if(o){const e=o.getAttribute("href");if(e.startsWith("http://")||e.startsWith("https://")||e.startsWith("//")){o.setAttribute("target","_blank"),o.setAttribute("rel","noreferrer");return}t.preventDefault(),navigate(e.substring(1))}}document.addEventListener("click",handleLinks),window.addEventListener("hashchange",()=>{const t=window.location.hash.substring(1);handleHashNavigation(t)});class SimpleToggle extends HTMLElement{constructor(){super(),this.button=document.createElement("button"),this.button.textContent="Show",this.button.className="showHideButton",this.button.onclick=()=>this.toggleContent(),this.content=document.createElement("div"),this.content.style.display="none",this.template=document.createElement("template"),this.template.innerHTML=this.getAttribute("c"),this.append(this.button,this.content)}toggleContent(){this.content.style.display==="none"?(this.content.appendChild(this.template.content.cloneNode(!0)),this.content.style.display="block",this.button.textContent="Hide"):(this.content.innerHTML="",this.content.style.display="none",this.button.textContent="Show")}}customElements.define("s-t",SimpleToggle);function openOverlay(e){var o=document.getElementById("fullScreenOverlay"),n=document.getElementById("overlayImage");o.style.display="block",n.src=e,document.body.style.overflow="hidden",document.addEventListener("keydown",closeOverlay)}function closeOverlay(){var e=document.getElementById("fullScreenOverlay");e.style.display="none",document.body.style.overflow="auto",document.removeEventListener("keydown",closeOverlay)}var images=document.querySelectorAll("img:not(.img-footer,.img-header,.to-top,.no-overlay)");images.forEach(function(e){e.addEventListener("click",function(){openOverlay(this.src)})});const hoverShift=document.querySelectorAll("button, a, .article-nav-bottom, footer"),alwaysShift=document.querySelectorAll("header, #site-title, #toolbar, nav .col a, .article-header, .article-title, .section-nav, footer");function getRandomDegree(){return Math.random()<.5?Math.floor(Math.random()*-270)-45:Math.floor(Math.random()*270)+46}function getRandomInterval(){return Math.floor(Math.random()*14e3)+7e3}function isElementInViewport(e){const t=e.getBoundingClientRect(),r=window.innerHeight||document.documentElement.clientHeight,n=window.innerWidth||document.documentElement.clientWidth,o=r*.8;return t.top>=-o&&t.left>=0&&t.bottom<=r+o&&t.right<=n}function startShift(e,t,r=!1){let n=getRandomDegree(),o=n,d=100,h=100,c=100,l=100,s=100,f=100,a=0,g=performance.now(),i=!0;function v(){i&&(e.style.filter=` hue-rotate(${n}deg) saturate(${d}%) contrast(${c}%) brightness(${s}%) ${r?"drop-shadow(0 0 1em rgba(255, 255, 255, 0.5))":""} `)}function m(M){if(i){if(isWindowActive&&isElementInViewport(e)){const w=M-g;g=M,a+=w/t,a>=1&&(o=getRandomDegree(),h=Math.random()*35+90,l=Math.random()*(r?90:40)+80,f=Math.random()*(r?50:20)+(r?85:90),a=0);const u=()=>metaRecursiveEaseNoise(a);n+=Math.round((o-n)*u()*(Math.random()*.25))/10,d+=Math.round((h-d)*u()*Math.random())/10,c+=Math.round((l-c)*u()*Math.random())/10,s+=Math.round((f-s)*u()*Math.random())/10,v()}i&&requestAnimationFrame(m)}}return requestAnimationFrame(m),()=>{i=!1,e.style.filter="none"}}function handleDisengage(e,t){t&&t(),e.style.filter="none"}alwaysShift.forEach(e=>{e.animateFunction=throttle(()=>startShift(e,getRandomInterval()),30)()}),hoverShift.forEach(e=>{let t,r;e.addEventListener("mouseover",throttle(()=>{t&&t(),t=startShift(e,getRandomInterval(),!0)},30)),e.addEventListener("click",()=>{t&&t(),t=startShift(e,getRandomInterval(),!0)}),e.addEventListener("touchstart",()=>{t&&t(),t=startShift(e,getRandomInterval(),!0),r=setTimeout(()=>handleDisengage(e,t),888)}),e.addEventListener("mouseout",debounce(()=>{handleDisengage(e,t)},30))});function search(){const e=document.getElementById("searchInput").value.toLowerCase(),d=document.querySelectorAll("article"),t=document.getElementById("searchResults");if(t.innerHTML="",e.length===0){t.innerHTML="<p>Enter a search term</p>",t.style.display="block";return}else if(e.length<3){t.style.display="none";return}t.style.display="block";let r=!1;if(d.forEach(function(n){const s=n.textContent.toLowerCase(),c=n.id||"",o=n.querySelector("h1, h2, h3"),u=o?o.textContent:"Untitled Article";if(s.includes(e)){r=!0;const a=s.indexOf(e),i=Math.max(0,a-50),h=Math.min(s.length,a+e.length+50),y=s.substring(i,h).replace(new RegExp(e,"gi"),p=>`<strong>${p}</strong>`),l=document.createElement("div");l.classList.add("search-result");const m=`${c}`;l.innerHTML=` <h3>${c?`<a href="/${m}" class="search-result-link">`:""}${u}${c?"</a>":""}</h3> <p>...${y}...</p> `,t.appendChild(l)}}),t.querySelectorAll(".search-result-link").forEach(n=>{n.addEventListener("click",function(s){closeSearchOverlay()})}),!r){const n=document.createElement("p");n.textContent="No results found.",t.appendChild(n)}}function openSearchOverlay(){document.getElementById("searchOverlay").style.display="block",document.getElementById("searchInput").focus(),document.body.style.overflow="hidden",document.addEventListener("keydown",handleKeyPress),search()}function closeSearchOverlay(){document.getElementById("searchOverlay").style.display="none",document.body.style.overflow="auto",document.removeEventListener("keydown",handleKeyPress),document.getElementById("searchInput").value="",document.getElementById("searchResults").innerHTML=""}function handleKeyPress(e){e.key==="Escape"&&closeSearchOverlay()}document.getElementById("search").addEventListener("click",function(e){e.preventDefault(),openSearchOverlay()}),document.getElementById("searchInput").addEventListener("input",throttle(function(){search()},500));
